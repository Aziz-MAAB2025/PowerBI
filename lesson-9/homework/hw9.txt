üìò Dataset Overview
SaleID	ProductID	CustomerID	Quantity	UnitPrice	Category
1	P1	C1	2	100	Electronics
2	P2	C2	1	50	Clothing
3	P1	C1	3	100	Electronics
üß† 1Ô∏è‚É£ What is Row Context? Give an example in a calculated column.

Row Context means DAX evaluates an expression for each row in a table ‚Äî as if looping through every row.

‚úÖ Example (Calculated Column):

TotalPrice = Sales[Quantity] * Sales[UnitPrice]


For each row, Power BI multiplies the row‚Äôs Quantity by UnitPrice to calculate that row‚Äôs TotalPrice.

SaleID	Quantity	UnitPrice	TotalPrice
1	2	100	200
2	1	50	50
3	3	100	300
üí∞ 2Ô∏è‚É£ Write a measure that finds total sales

A measure operates in filter context, aggregating across rows:

Total Sales = SUMX(Sales, Sales[Quantity] * Sales[UnitPrice])


‚úÖ Uses SUMX() to iterate through rows (row context inside measure) and sum up total prices.

üîó 3Ô∏è‚É£ Use RELATED() to fetch the Name from the Customers table into the Sales table

Assume another table:
Customers(CustomerID, Name, Region)

In the Sales table (calculated column):

Customer Name = RELATED(Customers[Name])


‚úÖ Requirements:

A relationship must exist between Sales[CustomerID] and Customers[CustomerID].

RELATED() works from many ‚Üí one direction (Sales ‚Üí Customers).

‚öôÔ∏è 4Ô∏è‚É£ What does this return?
CALCULATE(SUM(Sales[Quantity]), Sales[Category] = "Electronics")


‚úÖ It returns the sum of Quantity for rows where Category = "Electronics"
Equivalent to filtering the Sales table before summing Quantity.

Category	Quantity	Sum
Electronics	2 + 3	5
Clothing	ignored	‚Äî

Result: 5

üß© 5Ô∏è‚É£ Difference between VAR and RETURN in DAX
Term	Purpose
VAR	Declares a temporary variable or table inside a DAX expression.
RETURN	Specifies what the formula should output, using variables if needed.

Example:

Profit Margin =
VAR SalesTotal = SUM(Sales[Quantity] * Sales[UnitPrice])
VAR CostTotal  = SUM(Sales[Cost])
RETURN
DIVIDE(SalesTotal - CostTotal, SalesTotal)


‚Üí VAR defines variables; RETURN gives the final result.

üßÆ 6Ô∏è‚É£ Create a Calculated Column in Sales called TotalPrice using Row Context
TotalPrice = Sales[Quantity] * Sales[UnitPrice]


‚úÖ Evaluated row by row using row context.

üí° 7Ô∏è‚É£ Write a Measure: Electronics Sales
Electronics Sales =
CALCULATE(
    SUMX(Sales, Sales[Quantity] * Sales[UnitPrice]),
    Sales[Category] = "Electronics"
)


‚úÖ Only sums total sales for rows where Category = Electronics.

üßæ 8Ô∏è‚É£ Use ALL(Sales[Category]) in a Measure to Show Total Sales Ignoring Category Filters
Total Sales (Ignore Category) =
CALCULATE(
    SUMX(Sales, Sales[Quantity] * Sales[UnitPrice]),
    ALL(Sales[Category])
)


‚úÖ ALL() removes any slicer or visual filters on Category, showing total company-wide sales.

‚ö†Ô∏è 9Ô∏è‚É£ Fix: Calculated column using RELATED(Customers[Region]) returns blanks

Cause:
There is no relationship (or wrong direction) between Sales[CustomerID] and Customers[CustomerID].

Fix:

Go to Model View.

Create or fix the relationship:

Sales[CustomerID] ‚Üí Customers[CustomerID]

Ensure the direction is Many-to-One (Sales ‚Üí Customers).

Now RELATED(Customers[Region]) will work correctly.

üîÑ üîü Why does CALCULATE override existing filters?

CALCULATE() modifies or replaces the filter context with new filters you specify.
It‚Äôs the only DAX function that can change filter context.

Example:

CALCULATE(SUM(Sales[Quantity]), Sales[Category] = "Electronics")


If a slicer filters Category = Clothing, CALCULATE overrides it to Electronics.

üíµ 11Ô∏è‚É£ Measure: Average UnitPrice of Products
Average UnitPrice = AVERAGE(Sales[UnitPrice])


‚úÖ Returns the average price per product, respecting active filters.

üß† 12Ô∏è‚É£ Use VAR to Store a Temporary Table (Quantity > 2), then Count Rows
High Quantity Count =
VAR HighQty =
    FILTER(Sales, Sales[Quantity] > 2)
RETURN
COUNTROWS(HighQty)


‚úÖ Filters the Sales table, stores it in HighQty, then counts matching rows.
In your dataset ‚Üí only SaleID 3 qualifies ‚Üí result = 1

üìä 13Ô∏è‚É£ Measure: % of Category Sales
% of Category Sales =
DIVIDE(
    SUMX(Sales, Sales[Quantity] * Sales[UnitPrice]),
    CALCULATE(SUMX(Sales, Sales[Quantity] * Sales[UnitPrice]), ALL(Sales[Category]))
)


‚úÖ Shows each category‚Äôs contribution to total sales (ignores category filters in the denominator).

üéõ 14Ô∏è‚É£ Simulate a ‚ÄúRemove Filters‚Äù Button using ALL()

Create a measure:

Total Sales (All) =
CALCULATE(
    SUMX(Sales, Sales[Quantity] * Sales[UnitPrice]),
    ALL(Sales)
)


Add a button or bookmark in Power BI that switches visuals between:

Filtered view

‚ÄúAll‚Äù measure (removes filters)

‚úÖ Works as a Reset Filters / Show All button.

üß© 15Ô∏è‚É£ Troubleshoot: CALCULATE Measure Ignores a Slicer

Possible causes:

The measure explicitly removes filters using ALL() or REMOVEFILTERS().

The slicer field is not related to the table used in the measure.

Relationship is inactive ‚Äî fix by activating or using USERELATIONSHIP() in DAX.

The slicer is filtering a different table (not connected through the model).

‚úÖ Solution: Check the relationship model and remove unnecessary ALL() calls.

‚úÖ Summary Table
Task	DAX Formula	Concept
Row Context Example	Sales[Quantity] * Sales[UnitPrice]	Row-by-row calc
Total Sales	SUMX(Sales, Sales[Quantity]*Sales[UnitPrice])	Measure
RELATED Example	RELATED(Customers[Name])	Bring related data
CALCULATE Example	CALCULATE(SUM(Sales[Quantity]), Sales[Category]="Electronics")	Override filters
VAR / RETURN	Define temp vars ‚Üí final output	Code optimization
Electronics Sales	CALCULATE with category filter	Targeted measure
Ignore Category	CALCULATE + ALL()	Removes filters
Fix RELATED blanks	Add proper relationship	Data modeling
Average UnitPrice	AVERAGE(Sales[UnitPrice])	Aggregation
High Quantity Count	VAR + FILTER + COUNTROWS	Table variable
% of Category Sales	DIVIDE(..., ALL(Category))	Contribution metric
